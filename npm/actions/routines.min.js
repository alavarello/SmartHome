var _0x68fc=['api.validators.routineId','routineId','update','result','deleteRoutine','Delete\x20an\x20existing\x20routine','delete','retrieveRoutines','Retrieve\x20all\x20routines','retrieveAll','retrieveRooutines','retrieveRoutine','Retrieve\x20a\x20specific\x20routine','retrieveById','executeRoutine','Executes\x20a\x20specific\x20routine','all','map','devices','deviceId','invalid\x20device\x20id\x20\x22','warning','deviceTypes','typeId','state','length','actionName','getInternalState','models','deviceLog','deviceLogs','create','filter','forEach','message','push','constraint','routine','name','actions','good\x20night','object','string','Creates\x20a\x20new\x20routine','webSocket','Routines','connection','rawConnection','params','body','validators','then','routines','response','catch','errors','handle','log','formatters','createRoutine','stringify','info','updateRoutine','Updates\x20an\x20existing\x20routine'];(function(_0x48ab0e,_0x1ba05e){var _0x28c252=function(_0xf076b5){while(--_0xf076b5){_0x48ab0e['push'](_0x48ab0e['shift']());}};_0x28c252(++_0x1ba05e);}(_0x68fc,0xa5));var _0xc68f=function(_0xea5431,_0x214400){_0xea5431=_0xea5431-0x0;var _0x2ca80b=_0x68fc[_0xea5431];return _0x2ca80b;};'use strict';const modelSchema={'title':_0xc68f('0x0'),'required':[_0xc68f('0x1'),_0xc68f('0x2')],'schema':{'name':{'type':'string','example':_0xc68f('0x3')},'actions':{'type':_0xc68f('0x4'),'example':'[{\x20\x22deviceId\x22:\x20\x22c39181d52abe5555\x22,\x20\x22actionName\x22:\x20\x22turnOff\x22,\x20\x22params\x22:\x20[],\x20\x22meta\x22:\x20\x22{}\x22\x20},\x20{\x20\x22deviceId\x22:\x20\x22f597c13717008fb1\x22,\x20\x22actionName\x22:\x20\x22armStay\x22,\x20\x22params\x22:\x20[\x221234\x22],\x20\x22meta\x22:\x20\x22{}\x22\x20}]'},'meta':{'type':_0xc68f('0x5'),'example':'{}'}}};exports['createRoutine']={'name':'createRoutine','description':_0xc68f('0x6'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'modelSchema':modelSchema,'outputExample':{},'tags':[_0xc68f('0x8')],'run':function(_0x363cdf,_0x4fcce4,_0x4a6f7d){var _0x9f2705=_0x4fcce4[_0xc68f('0x9')][_0xc68f('0xa')][_0xc68f('0xb')][_0xc68f('0xc')];_0x363cdf[_0xc68f('0xd')][_0xc68f('0x0')](_0x9f2705)[_0xc68f('0xe')](_0x5a8226=>{return _0x363cdf[_0xc68f('0xf')]['create'](_0x5a8226);})[_0xc68f('0xe')](_0x29f1fe=>{_0x4fcce4[_0xc68f('0x10')][_0xc68f('0x0')]=_0x29f1fe;_0x4a6f7d();})[_0xc68f('0x11')](_0x2a0a52=>{_0x4a6f7d(_0x363cdf[_0xc68f('0x12')][_0xc68f('0x13')](_0x2a0a52));})[_0xc68f('0xe')](()=>{_0x363cdf[_0xc68f('0x14')](_0x363cdf[_0xc68f('0x15')]['response'](_0xc68f('0x16'),JSON[_0xc68f('0x17')](_0x4fcce4[_0xc68f('0x10')])),_0xc68f('0x18'));});}};exports[_0xc68f('0x19')]={'name':_0xc68f('0x19'),'description':_0xc68f('0x1a'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'inputs':{'routineId':{'required':!![],'validator':_0xc68f('0x1b')}},'modelSchema':modelSchema,'outputExample':{},'tags':['Routines'],'run':function(_0x541828,_0x3a6c06,_0x366b23){var _0x171eea=_0x3a6c06[_0xc68f('0x9')][_0xc68f('0xa')][_0xc68f('0xb')]['body'];_0x541828[_0xc68f('0xd')][_0xc68f('0x0')](_0x171eea)[_0xc68f('0xe')](_0x2c058c=>{_0x2c058c['id']=_0x2c058c['id']||_0x3a6c06[_0xc68f('0xb')][_0xc68f('0x1c')];return _0x541828[_0xc68f('0xf')][_0xc68f('0x1d')](_0x2c058c);})['then'](_0xcc11a3=>{_0x3a6c06[_0xc68f('0x10')][_0xc68f('0x1e')]=_0xcc11a3;_0x366b23();})['catch'](_0x1dad07=>{_0x366b23(_0x541828[_0xc68f('0x12')][_0xc68f('0x13')](_0x1dad07));})[_0xc68f('0xe')](()=>{_0x541828[_0xc68f('0x14')](_0x541828[_0xc68f('0x15')][_0xc68f('0x10')]('updateRoutine',JSON[_0xc68f('0x17')](_0x3a6c06[_0xc68f('0x10')])),'info');});}};exports[_0xc68f('0x1f')]={'name':_0xc68f('0x1f'),'description':_0xc68f('0x20'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'inputs':{'routineId':{'routineId':!![],'validator':_0xc68f('0x1b')}},'outputExample':{},'tags':[_0xc68f('0x8')],'run':function(_0x1a0810,_0x417de2,_0x5d4632){_0x1a0810[_0xc68f('0xf')][_0xc68f('0x21')](_0x417de2['params'][_0xc68f('0x1c')])[_0xc68f('0xe')](_0x2a4a5d=>{_0x417de2[_0xc68f('0x10')]['result']=_0x2a4a5d;_0x5d4632();})[_0xc68f('0x11')](_0x1cc5b2=>{_0x5d4632(_0x1a0810[_0xc68f('0x12')][_0xc68f('0x13')](_0x1cc5b2));})[_0xc68f('0xe')](()=>{_0x1a0810[_0xc68f('0x14')](_0x1a0810[_0xc68f('0x15')][_0xc68f('0x10')](_0xc68f('0x1f'),JSON[_0xc68f('0x17')](_0x417de2[_0xc68f('0x10')])),_0xc68f('0x18'));});}};exports[_0xc68f('0x22')]={'name':_0xc68f('0x22'),'description':_0xc68f('0x23'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'outputExample':{},'tags':['Routines'],'run':function(_0x1deee7,_0x16e1d0,_0x56a82e){_0x1deee7[_0xc68f('0xf')][_0xc68f('0x24')]()[_0xc68f('0xe')](_0x3777f4=>{_0x16e1d0[_0xc68f('0x10')][_0xc68f('0xf')]=_0x3777f4;_0x56a82e();})['catch'](_0x1c589b=>{_0x56a82e(_0x1deee7[_0xc68f('0x12')][_0xc68f('0x13')](_0x1c589b));})[_0xc68f('0xe')](()=>{_0x1deee7[_0xc68f('0x14')](_0x1deee7['formatters'][_0xc68f('0x10')](_0xc68f('0x25'),JSON['stringify'](_0x16e1d0[_0xc68f('0x10')])),_0xc68f('0x18'));});}};exports[_0xc68f('0x26')]={'name':_0xc68f('0x26'),'description':_0xc68f('0x27'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'inputs':{'routineId':{'required':!![],'validator':_0xc68f('0x1b')}},'outputExample':{},'tags':['Routines'],'run':function(_0x4282b7,_0x3e4aac,_0x8ce922){_0x4282b7[_0xc68f('0xf')][_0xc68f('0x28')](_0x3e4aac[_0xc68f('0xb')][_0xc68f('0x1c')])[_0xc68f('0xe')](_0x13be11=>{_0x3e4aac[_0xc68f('0x10')][_0xc68f('0x0')]=_0x13be11;_0x8ce922();})['catch'](_0x5e0ae8=>{_0x8ce922(_0x4282b7['errors'][_0xc68f('0x13')](_0x5e0ae8));})[_0xc68f('0xe')](()=>{_0x4282b7[_0xc68f('0x14')](_0x4282b7[_0xc68f('0x15')][_0xc68f('0x10')](_0xc68f('0x26'),JSON[_0xc68f('0x17')](_0x3e4aac[_0xc68f('0x10')])),'info');});}};exports[_0xc68f('0x29')]={'name':_0xc68f('0x29'),'description':_0xc68f('0x2a'),'blockedConnectionTypes':[_0xc68f('0x7')],'version':0x1,'inputs':{'routineId':{'required':!![],'validator':_0xc68f('0x1b')}},'outputExample':{},'tags':[_0xc68f('0x8')],'run':function(_0x58c3d5,_0x2702ac,_0x25b779){_0x58c3d5[_0xc68f('0xf')][_0xc68f('0x28')](_0x2702ac[_0xc68f('0xb')][_0xc68f('0x1c')])[_0xc68f('0xe')](_0x5e1af9=>{return Promise[_0xc68f('0x2b')](_0x5e1af9[_0xc68f('0x2')][_0xc68f('0x2c')](_0x30eeee=>{return new Promise((_0x3524b6,_0x1e4f50)=>{_0x58c3d5[_0xc68f('0x2d')][_0xc68f('0x28')](_0x30eeee[_0xc68f('0x2e')])['then'](_0x1ae3b8=>{if(!_0x1ae3b8){_0x3524b6(new Error(_0xc68f('0x2f')+_0x30eeee[_0xc68f('0x2e')]+'\x22',_0xc68f('0x30')));}else{_0x58c3d5[_0xc68f('0x31')][_0xc68f('0x28')](_0x1ae3b8[_0xc68f('0x32')])['then'](_0x43d804=>{var _0x5d0afa=new _0x58c3d5[(_0xc68f('0x2d'))][_0x43d804[(_0xc68f('0x1'))]](_0x1ae3b8['id'],_0x1ae3b8[_0xc68f('0x33')]);var _0x493db7=![];switch(_0x30eeee['params'][_0xc68f('0x34')]){case 0x0:_0x493db7=_0x5d0afa[_0x30eeee[_0xc68f('0x35')]]();break;case 0x1:_0x493db7=_0x5d0afa[_0x30eeee[_0xc68f('0x35')]](_0x30eeee[_0xc68f('0xb')][0x0]);break;case 0x2:_0x493db7=_0x5d0afa[_0x30eeee[_0xc68f('0x35')]](_0x30eeee[_0xc68f('0xb')][0x0],_0x30eeee[_0xc68f('0xb')][0x1]);break;}_0x1ae3b8[_0xc68f('0x33')]=_0x5d0afa[_0xc68f('0x36')]();_0x58c3d5[_0xc68f('0x2d')][_0xc68f('0x1d')](_0x1ae3b8)['then'](_0x414e47=>{var _0x4cfd7d=new _0x58c3d5[(_0xc68f('0x37'))][(_0xc68f('0x38'))](new Date()['toISOString'](),_0x1ae3b8['id'],_0x30eeee[_0xc68f('0x1')],_0x30eeee[_0xc68f('0xb')],_0x493db7);_0x58c3d5[_0xc68f('0x39')][_0xc68f('0x3a')](_0x4cfd7d)[_0xc68f('0xe')](_0x14b0c1=>{_0x3524b6(_0x493db7);})[_0xc68f('0x11')](_0x2df34e=>{_0x1e4f50(_0x2df34e);});})['catch'](_0x2920d5=>{_0x1e4f50(_0x2920d5);});})[_0xc68f('0x11')](_0x45861f=>{_0x1e4f50(_0x45861f);});}})['catch'](_0x5e64e5=>{_0x1e4f50(_0x5e64e5);});});}));})[_0xc68f('0xe')](_0x27ca32=>{var _0x237327=_0x27ca32[_0xc68f('0x3b')](_0xd00030=>{return _0xd00030 instanceof Error;});if(_0x237327['length']>0x0){var _0x2f0f86=[];_0x237327[_0xc68f('0x3c')](_0x44efa8=>{_0x58c3d5[_0xc68f('0x14')](_0x44efa8[_0xc68f('0x3d')],_0xc68f('0x30'));_0x2f0f86[_0xc68f('0x3e')](_0x44efa8[_0xc68f('0x3d')]);});_0x25b779(_0x58c3d5[_0xc68f('0x12')][_0xc68f('0x13')]({'code':_0x58c3d5[_0xc68f('0x12')]['codes'][_0xc68f('0x3f')],'description':_0x2f0f86}));}else{_0x2702ac[_0xc68f('0x10')]['result']=_0x27ca32;_0x25b779();}})['catch'](_0x341779=>{_0x25b779(_0x58c3d5[_0xc68f('0x12')][_0xc68f('0x13')](_0x341779));})['then'](()=>{_0x58c3d5[_0xc68f('0x14')](_0x58c3d5[_0xc68f('0x15')]['response'](_0xc68f('0x29'),JSON[_0xc68f('0x17')](_0x2702ac[_0xc68f('0x10')])),_0xc68f('0x18'));});}};